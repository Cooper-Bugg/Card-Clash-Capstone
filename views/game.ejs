<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<title><%= pageTitle %> | Card Clash</title>
		<link rel="stylesheet" href="/styles.css" />
		<style>
			/* Game page fills viewport but allows scrolling if content overflows */
			html, body {
				height: 100%;
				margin: 0;
				overflow-y: auto;
			}

			/* Compact top bar for the game view */
			.game-top-bar {
				display: flex;
				align-items: center;
				justify-content: space-between;
				padding: 8px 20px;
				background: var(--sand);
				border-bottom: 2px solid var(--blue);
				color: var(--ink);
				z-index: 10;
				flex-shrink: 0;
			}

			.game-brand-title {
				font-family: "Andika", "Segoe UI", sans-serif;
				font-size: 1.6rem;
				font-weight: 800;
				letter-spacing: 0.04em;
				color: var(--blue);
			}

			.game-brand-subtitle {
				font-size: 1rem;
				color: var(--gold);
				font-weight: 700;
				letter-spacing: 0.02em;
			}

			.game-nav {
				display: flex;
				gap: 10px;
			}

			/* Outer wrapper that fills everything below the top bar */
			.game-outer {
				display: flex;
				flex-direction: column;
				height: calc(100vh - 46px); /* subtract top bar height */
				padding: 20px;
				box-sizing: border-box;
				background: var(--sand);
			}

			/* The bordered frame around the Unity iframe */
			.game-unity-wrapper {
				flex: 1;
				border-radius: 16px;
				border: 3px solid var(--blue);
				box-shadow: 0 0 0 4px var(--gold), 0 8px 40px rgba(29, 53, 87, 0.35);
				overflow: hidden;
				background: var(--blue);
			}

			.game-unity-wrapper iframe {
				width: 100%;
				height: 100%;
				border: 0;
				display: block;
			}
		</style>
	</head>
	<body class="page">
		<!-- Compact branded top bar with nav links -->
		<header class="game-top-bar">
			<div class="brand">
				<div class="game-brand-title">Card Clash</div>
				<div class="game-brand-subtitle">Game Launch &mdash; <%= deck.title %></div>
			</div>
			<nav class="game-nav">
				<a class="nav-link" href="/dashboard">Dashboard</a>
				<a class="nav-link" href="/deck/<%= deck.id %>/edit">Edit Deck</a>
				<a class="nav-link" href="/sessions">Sessions</a>
				<form method="post" action="/logout" style="margin: 0;">
					<button class="nav-link nav-link--danger" type="submit">Log Out</button>
				</form>
			</nav>
		</header>

		<!-- Unity game fills the rest of the screen with padding around it -->
		<div class="game-outer">
			<div class="game-unity-wrapper">
				<iframe src="<%= unityPath %>" title="Card Clash Unity Game" allowfullscreen></iframe>
			</div>
		</div>
	</body>
</html>